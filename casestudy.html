<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <title>Document</title>
    <style>
        /* html, body {
            padding: 0;
            margin: 0;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        } */
    
#navbar {
  position: fixed;
  top: -50;
  width: 100%;
  background-color: var(--nav-color);
  transition: background-color 0.4s ease;
  display: block;
  transition: top 0.3s;
  z-index: 1000;
  text-align: center;
  padding: 15px;
  /* border-bottom: 2px solid #780c0c33; semi-transparent line */
}

#navbar a {
  color: var(--text-color);
  margin: 0 1rem;
  text-decoration: none;
  transition: color 0.3s ease;
  font-family: 'Press Start 2P', cursive;
  font-size: 0.75rem;
  
}

#navbar a:hover {
  color: #1e6fe8;
}

/* Theme Switch Button */
#theme-switch {
  width: 50px;
  padding: 0;
  border-radius: 50%;
  background-color: var(--nav-color);
  display: flex;
  justify-content: center;
  align-items: center;
  position: fixed;
  top: 25px;
  right: 10px;
  cursor: pointer;
  border: none;
}

#theme-switch img {
  width: 24px;
  height: 24px;
  image-rendering: pixelated;
  transition: opacity 0.3s ease;
  position: fixed;
}

#theme-switch img.sun {
  opacity: 1;
}

#theme-switch img.moon {
  opacity: 0;
}

.darkmode #theme-switch img.sun {
  opacity: 0;
}

.darkmode #theme-switch img.moon {
  opacity: 1;
}
pre {
  font-size: larger;
            background-color: var(--nav-color);
            transition: background-color 0.4s ease, color 0.4s ease;
            /* border-left: 5px solid #007acc; */
            padding: 3%;
            /* font-family: Consolas, monospace; */
            overflow-x: auto;
            /* border-radius: 5px; */
            clip-path: polygon(
    0px calc(100% - 10px),
    4px calc(100% - 10px),
    4px calc(100% - 6px),
    8px calc(100% - 6px),
    8px calc(100% - 4px),
    12px calc(100% - 4px),
    12px calc(100% - 2px),
    20px calc(100% - 2px),
    20px 100%,
    calc(50% - 6px) 100%,
    50% calc(100% + 8px),
    calc(50% + 6px) 100%,
    calc(100% - 20px) 100%,
    calc(100% - 20px) calc(100% - 2px),
    calc(100% - 12px) calc(100% - 2px),
    calc(100% - 12px) calc(100% - 4px),
    calc(100% - 8px) calc(100% - 4px),
    calc(100% - 8px) calc(100% - 6px),
    calc(100% - 4px) calc(100% - 6px),
    calc(100% - 4px) calc(100% - 10px),
    100% calc(100% - 10px),
    100% 20px,
    calc(100% - 4px) 20px,
    calc(100% - 4px) 12px,
    calc(100% - 8px) 12px,
    calc(100% - 8px) 8px,
    calc(100% - 12px) 8px,
    calc(100% - 12px) 4px,
    calc(100% - 20px) 4px,
    calc(100% - 20px) 0px,
    20px 0px,
    20px 4px,
    12px 4px,
    12px 8px,
    8px 8px,
    8px 12px,
    4px 12px,
    4px 20px,
    0px 20px
  );
        }

/* h1{
    align-self: center;
    font-size: 2.5rem;
    margin-bottom: 15px;
} */

.questions{
    padding: 20PX;
    display: flex;   
    flex-direction: column;
    align-items: center;
    background-color: var(--background-color);
    gap: 20px;
  background-image: url('hi.gif'), url('hi.gif');
  background-repeat: no-repeat, no-repeat;
  background-position: left bottom, right top;
  background-size: 150px 150px; 
    padding: 100px 20px;
    padding-inline:12px ;
    min-height: 100%;
    transition: background-color 0.4s ease, color 0.4s ease;
}

a{
    color: var(--text-color);
    text-decoration: none;
    text-align: center;
    font-size: medium;
}

.solutions{
    max-height: 100%;
    /* position: absolute; */
    /* padding-top: 30px; */
    /* background-color: var(--background-color); */
    width: 100%;
    /* overflow: scroll; */
    /* margin-right:60px ; */
    overflow-x: hidden;
    /* justify-content: ; */
    transition: background-color 0.4s ease, color 0.4s ease;
}
.code-output{
display: flex;
flex-direction:column;
/* margin: 10px; */
/* border: 2px solid rgb(81, 39, 39); */

/* justify-content: left; */
/* gap: 20px; */
}

.solution{
    margin-top: 100px;
    margin-bottom: 18px;
    text-align: center;
    /* font-size: medium;
 */
}

.co{
    /* background-color: rgb(255, 255, 255); */
    color: var(--text-color);
    /* border-radius: 20px; */
    font-family: 'Courier New', Courier, monospace;
}
.code{
    /* border-radius: 20px; */
    padding: 3%;
    font-size: 1rem;
    text-align: left;
    /* border: 2px solid rgb(0, 0, 0) ; */
    overflow:hidden
}
.code>h3{
    /* border: 1px solid rgb(0, 0, 0); */
    font-family: 'Press Start 2P', cursive;
    text-align: left;
    font-size: 20px;
    margin-top: 2%;
    margin-left: 2%;
    margin-bottom: 2%;
}
.output>h3{
  font-family: 'Press Start 2P', cursive;
    text-align: left;
    font-size: 20px;
    margin-left: 2%;
    margin-bottom: 2%;
}
.output{
    padding: 3%;
    font-size:1rem;
    margin-top: -3%;
    text-align: left;
    /* background-color:rgb(255, 255, 255) ; */
     /* border: 1px solid rgb(0, 0, 0); */
}
</style>
</head>
<body>
  <div class="custom-cursor site-wide">
    <img id="cursor-default" src="Screenshot_2025-04-09_013719-removebg-preview.png"alt="cursor" />
    <img id="cursor-hover" src="pixelcursor-removebg-preview.png"alt="cursor-hover" />
    <!-- <div class="pixel" id="cursor-hover" style="background-image: url('picture/Oo\ Ee\ A\ E\ A\ Cat\ Meme\ Animated--pointer--SweezyCursors.png')"></div> -->
  </div>
    <div id="navbar">
        <a href="index.html">Start</a>
        <a href="dbmsbasic.html">Backstory</a>
        <a href="intro.html">SQL Zone</a>
        <a href="plsql.html">PL/SQL Zone</a>
        <!-- Toggle Button -->
        <button id="theme-switch">
          <img src="sun.png" alt="Light Mode" class="sun">
          <img src="moon.png" alt="Dark Mode" class="moon">
        </button>
      </div>
      <div class="container">
        <main>
            <div class="questions">
                <h1>CASE STUDY</h1>
            </div>  
            <div class="solution" id="s40">
                <div class="que">
                  <p style="font-size: 25px; font-weight: 800px;">MASTER TABLE: STUDENTS</p>
                </div>
                <div class="code-output">
                  <div class="code">
                    <h3 class="co">INTRO</h3>
                    <pre>
              This script creates a Students table and insert data in it.
              Marks are stored as VARCHAR to allow 'A' for absent students.
                    </pre>
              
                    <h3 class="co">SYNTAX</h3>
                    <pre>
              CREATE TABLE Students (
                RollNo INT PRIMARY KEY,
                Name VARCHAR(50),
                Sub1Mark VARCHAR(5),
                Sub2Mark VARCHAR(5),
                Sub3Mark VARCHAR(5)
              );
              
              INSERT INTO Students (RollNo, Name, Sub1Mark, Sub2Mark, Sub3Mark) VALUES
              (1, 'Raj', '75', '82', '79'),
              (2, 'Priya', '88', '91', 'A'),
              (3, 'Karan', '32', '45', '50'),
              (4, 'Neha', '65', '70', '69'),
              (5, 'Rohan', '88', '92', '89'),
              (6, 'Simran', '50', '61', '59'),
              (7, 'Aman', 'A', '74', '80'),
              (8, 'Sneha', '66', '48', '35'),
              (9, 'Manav', '28', '40', '30'),
              (10, 'Ishita', '77', '81', '74'),
              (11, 'Yash', '91', '89', '94'),
              (12, 'Anjali', '40', '50', '52'),
              (13, 'Arpita', '60', '59', '58'),
              (14, 'Dev', '55', '62', '49'),
              (15, 'Tanya', '33', '32', '35'),
              (16, 'Rahul', '44', 'A', '67'),
              (17, 'Arjun', '92', '90', '95'),
              (18, 'Kavya', '64', '72', '71'),
              (19, 'Mehul', '69', '38', '45'),
              (20, 'Isha', '90', '89', 'A');
                    </pre>
              
                    <h3 class="co">Explanation</h3>
                    <pre>
              The Students table contains roll number, name, and marks for 3 subjects.
              VARCHAR is used for marks to refer non-numeric entries like 'A' (absent).
                    </pre>
                  </div>
              
                  <div class="output">
                    <h3 class="co">OUTPUT</h3>
                    <pre>
                          +--------+---------+----------+----------+----------+
                          | RollNo | Name    | Sub1Mark | Sub2Mark | Sub3Mark |
                          +--------+---------+----------+----------+----------+
                          |      1 | Raj     |       75 |       82 |       79 |
                          |      2 | Priya   |       88 |       91 |         A|
                          |      3 | Karan   |       32 |       45 |       50 |
                          |      4 | Neha    |       65 |       70 |       69 |
                          |      5 | Rohan   |       88 |       92 |       89 |
                          |      6 | Simran  |       50 |       61 |       59 |
                          |      7 | Aman    |         A|       74 |       80 |
                          |      8 | Sneha   |       66 |       48 |       35 |
                          |      9 | Manav   |       28 |       40 |       30 |
                          |     10 | Ishita  |       77 |       81 |       74 |
                          |     11 | Yash    |       91 |       89 |       94 |
                          |     12 | Anjali  |       40 |       50 |       52 |
                          |     13 | Arpita  |       60 |       59 |       58 |
                          |     14 | Dev     |       55 |       62 |       49 |
                          |     15 | Tanya   |       33 |       32 |       35 |
                          |     16 | Rahul   |       44 |         A|       67 |
                          |     17 | Arjun   |       92 |       90 |       95 |
                          |     18 | Kavya   |       64 |       72 |       71 |
                          |     19 | Mehul   |       69 |       38 |       45 |
                          |     20 | Isha    |       90 |       89 |         A|
                          +--------+---------+----------+----------+----------+
                    </pre>
                  </div>
                </div>
              </div>              
            <div class="solution" id="s42">
                <div class="que">
                  <p style="font-size: 25px; font-weight: 800px;">TOP THREE STUDENTS</p>
                </div>
                <div class="code-output">
                  <div class="code">
                    <h3 class="co">INTRO</h3>
                    <pre>
              Find top 3 students who:
              → Have not missed any exam ("A" absent)
              → Did not fail any subject (marks ≥ 33)
              → Have more than 60% average
                    </pre>
              
                    <h3 class="co">SQL</h3>
                    <pre>
              SELECT RollNo, Name, Sub1Mark, Sub2Mark, Sub3Mark,
              (CAST(Sub1Mark AS UNSIGNED) + CAST(Sub2Mark AS UNSIGNED) + CAST(Sub3Mark AS UNSIGNED)) AS Total,
              ROUND((CAST(Sub1Mark AS UNSIGNED) + CAST(Sub2Mark AS UNSIGNED) + CAST(Sub3Mark AS UNSIGNED)) / 3, 2) AS Percentage
              FROM Students
              WHERE Sub1Mark != 'A' AND Sub2Mark != 'A' AND Sub3Mark != 'A'
              AND CAST(Sub1Mark AS UNSIGNED) >= 33 AND CAST(Sub2Mark AS UNSIGNED) >= 33 AND CAST(Sub3Mark AS UNSIGNED) >= 33
              AND ((CAST(Sub1Mark AS UNSIGNED) + CAST(Sub2Mark AS UNSIGNED) + CAST(Sub3Mark AS UNSIGNED)) / 3) > 60
              ORDER BY Total DESC
              LIMIT 3;
                    </pre>
              
                    <h3 class="co">Explanation</h3>
                    <pre>
              Filters students with full attendance and passing marks,
              calculates total and percentage, then selects top 3.
                    </pre>
                  </div>
              
                  <div class="output">
                    <h3 class="co">OUTPUT</h3>
                    <pre>
              +--------+--------+----------+----------+----------+-------+------------+
              | RollNo | Name   | Sub1Mark | Sub2Mark | Sub3Mark | Total | Percentage |
              +--------+--------+----------+----------+----------+-------+------------+
              |     17 | Arjun  |       92 |       90 |       95 |   277 |      92.33 |
              |     11 | Yash   |       91 |       89 |       94 |   274 |      91.33 |
              |      5 | Rohan  |       88 |       92 |       89 |   269 |      89.67 |
              +--------+--------+----------+----------+----------+-------+------------+
                    </pre>
                  </div>
                </div>
              </div>
              <div class="solution" id="s43">
                <div class="que">
                  <p style="font-size: 25px; font-weight: 800px;">TOP THREE SUBJECT-WISE</p>
                </div>
                <div class="code-output">
                  <div class="code">
                    <h3 class="co">INTRO</h3>
                    <pre>
              Find the top 3 students in each subject,
              ensuring no absentees or failures, ranked by score.
                    </pre>
              
                    <h3 class="co">SQL</h3>
                    <pre>
              SELECT * FROM (
                SELECT RollNo, Name, 'Sub1' AS Subject, CAST(Sub1Mark AS UNSIGNED) AS Marks,
                  (CAST(Sub1Mark AS UNSIGNED)+CAST(Sub2Mark AS UNSIGNED)+CAST(Sub3Mark AS UNSIGNED)) AS Total,
                  RANK() OVER (ORDER BY CAST(Sub1Mark AS UNSIGNED) DESC, Total DESC) AS pos
                FROM Students
                WHERE Sub1Mark != 'A' AND CAST(Sub1Mark AS UNSIGNED) >= 33
              ) AS s1 WHERE pos <= 3
              UNION ALL
              SELECT * FROM (
                SELECT RollNo, Name, 'Sub2', CAST(Sub2Mark AS UNSIGNED),
                  (CAST(Sub1Mark AS UNSIGNED)+CAST(Sub2Mark AS UNSIGNED)+CAST(Sub3Mark AS UNSIGNED)),
                  RANK() OVER (ORDER BY CAST(Sub2Mark AS UNSIGNED) DESC, Total DESC)
                FROM Students
                WHERE Sub2Mark != 'A' AND CAST(Sub2Mark AS UNSIGNED) >= 33
              ) AS s2 WHERE pos <= 3
              UNION ALL
              SELECT * FROM (
                SELECT RollNo, Name, 'Sub3', CAST(Sub3Mark AS UNSIGNED),
                  (CAST(Sub1Mark AS UNSIGNED)+CAST(Sub2Mark AS UNSIGNED)+CAST(Sub3Mark AS UNSIGNED)),
                  RANK() OVER (ORDER BY CAST(Sub3Mark AS UNSIGNED) DESC, Total DESC)
                FROM Students
                WHERE Sub3Mark != 'A' AND CAST(Sub3Mark AS UNSIGNED) >= 33
              ) AS s3 WHERE pos <= 3;
                    </pre>
              
                    <h3 class="co">Explanation</h3>
                    <pre>
              Ranks students by score in each subject (Sub1, Sub2, Sub3)
              and filters top 3 performers for each.
                    </pre>
                  </div>
              
                  <div class="output">
                    <h3 class="co">OUTPUT</h3>
                    <pre>
              +--------+---------+---------+-------+-------+-----+
              | RollNo | Name    | Subject | Marks | Total | pos |
              +--------+---------+---------+-------+-------+-----+
              |     17 | Arjun   | Sub1    |    92 |   277 |   1 |
              |     11 | Yash    | Sub1    |    91 |   274 |   2 |
              |      5 | Rohan   | Sub1    |    88 |   269 |   3 |
              |     17 | Arjun   | Sub2    |    90 |   277 |   1 |
              |      5 | Rohan   | Sub2    |    92 |   269 |   2 |
              |     11 | Yash    | Sub2    |    89 |   274 |   3 |
              |     17 | Arjun   | Sub3    |    95 |   277 |   1 |
              |     11 | Yash    | Sub3    |    94 |   274 |   2 |
              |      5 | Rohan   | Sub3    |    89 |   269 |   3 |
              +--------+---------+---------+-------+-------+-----+
                    </pre>
                  </div>
                </div>
              </div>
                
              
<script src="darkmode.js"></script>
    <script>
      document.addEventListener('mousemove', (e) => {
  const cursor = document.querySelector('.custom-cursor.site-wide');
  const cursorDefault = document.getElementById('cursor-default');
  const cursorHover = document.getElementById('cursor-hover');

  const w = cursor.clientWidth;
  const h = cursor.clientHeight;
  cursor.style.transform = `translate(${e.clientX - w / 1.8}px, ${e.clientY - h / 5}px)`;

  const isClickable = e.target.closest('a, button, input, textarea, select, [role="button"]');
  const isIframe = e.target.tagName === 'IFRAME';

  if (isIframe) {
    cursor.style.display = 'none'; // hide custom cursor
    document.body.style.cursor = 'pointer'; // show system hand
  } else {
    cursor.style.display = 'block';
    document.body.style.cursor = 'none'; // hide system cursor
    if (isClickable) {
      cursorDefault.style.display = 'none';
      cursorHover.style.display = 'block';
    } else {
      cursorDefault.style.display = 'block';
      cursorHover.style.display = 'none';
    }
  }
});
//output
const outputs=document.querySelectorAll('.output');
const codes=document.querySelectorAll('.code');
outputs.forEach((output)=>{
    (output.firstElementChild.classList.add('co'));
})

codes.forEach((code)=>{
    (code.firstElementChild.classList.add('co'));
})
</script>
</body>
</html>